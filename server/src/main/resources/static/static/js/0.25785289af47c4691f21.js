webpackJsonp([0],{qJUz:function(t,e){},uK6g:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o={props:{dataSource:Number},data:function(){return{receiveIndoModal:!1,receiveInfoList:[],addAccountModal:!1,createAccountForm:{account_id:"AccountID",password:"",nickname:"Username",gender:3,description:""},columns:[{title:"account_id",key:"account_id",sortable:!0},{title:"password",slot:"password",sortable:!0},{title:"nickname",slot:"nickname",sortable:!0},{title:"gender",slot:"gender",sortable:!0,filters:[{label:"男",value:1},{label:"女",value:2},{label:"未知",value:3}],filterMultiple:!1,filterMethod:function(t,e){return 1===t?"男"===e.gender:2===t?"女"===e.gender:"未知"===e.gender}},{title:"description",slot:"description",sortable:!0},{title:"操作",slot:"action",align:"center"}],accountData:[],allReceiveInfoList:[],editIndex:-1,editAccount_id:"",editPassword:"",editNickname:"",editGender:"",editDescription:""}},mounted:function(){var t,e=this;t=1==this.dataSource?"/account/info":"/g/account/info",this.$axios.get(t).then(function(t){var n;for(e.accountData=t.data,n=0;n<e.accountData.length;n++)2===e.accountData[n].gender?e.accountData[n].gender="女":1===e.accountData[n].gender?e.accountData[n].gender="男":e.accountData[n].gender="未知";e.$Message.success("成功加载Account数据")}).catch(function(t){e.$Message.error("加载Account数据失败")}),t=1==this.dataSource?"/receiveInfo/info":"/g/receiveInfo/info",this.$axios.get(t).then(function(t){e.allReceiveInfoList=t.data,e.$Message.success("成功加载ReceiveInfo数据")}).catch(function(t){e.$Message.error("加载ReceiveInfo数据失败")})},methods:{upLoad:function(){var t,e=this;t=1==this.dataSource?"/account/update":"/g/account/update";var n=[];console.log("test1");for(var o=0;o<this.accountData.length;o++){var c;console.log("test2"),c="男"===this.accountData[o].gender?1:"女"===this.accountData[o].gender?2:0,console.log("test3"),n.push({account_id:this.accountData[o].account_id,password:this.accountData[o].password,nickname:this.accountData[o].nickname,gender:c,description:this.accountData[o].description}),console.log("test4")}this.$axios.post(t,{list:n}).then(function(t){e.$Message.success("成功将Account数据同步至Hive")}).catch(function(t){e.$Message.error("同步Account数据失败！")}),t=1==this.dataSource?"/receiveInfo/update":"/g/receiveInfo/update",this.$axios.post(t,{list:this.receiveInfoList}).then(function(t){e.$Message.success("成功将ReceiveInfo数据同步至Hive")}).catch(function(t){e.$Message.error("同步ReceiveInfo数据失败！")})},submit:function(){1===this.createAccountForm.gender?this.createAccountForm.gender="男":2===this.createAccountForm.gender?this.createAccountForm.gender="女":this.createAccountForm.gender="未知";var t={account_id:this.createAccountForm.account_id,password:this.createAccountForm.password,nickname:this.createAccountForm.nickname,gender:this.createAccountForm.gender,description:this.createAccountForm.description};this.accountData.push(t);var e={receiver_account_id:this.createAccountForm.account_id,receive_info_id:0,phone_number:"13568904488",address:"Nine eyes bridge"};this.allReceiveInfoList.push(e),console.log(this.allReceiveInfoList),this.addAccountModal=!1},createAccount:function(){this.addAccountModal=!0},remove:function(t){console.log(this.allReceiveInfoList);var e=this.accountData[t].account_id;this.accountData.splice(t,1);for(var n=0;n<this.allReceiveInfoList.length;)this.allReceiveInfoList[n].receiver_account_id==e?this.allReceiveInfoList.splice(n,1):n++;console.log(this.allReceiveInfoList)},handleEdit:function(t,e){this.editAccount_id=t.account_id,this.editPassword=t.password,this.editNickname=t.nickname,this.editGender=t.gender,this.editDescription=t.description,this.editIndex=e},handleSave:function(t){this.accountData[t].account_id=this.editAccount_id,this.accountData[t].password=this.editPassword,this.accountData[t].nickname=this.editNickname,this.accountData[t].gender=this.editGender,this.accountData[t].description=this.editDescription,this.editIndex=-1},receiveInfo:function(t){this.receiveInfoList=[];for(var e=this.accountData[t].account_id,n=0;n<this.allReceiveInfoList.length;n++)this.allReceiveInfoList[n].receiver_account_id==e&&this.receiveInfoList.push(this.allReceiveInfoList[n]);this.receiveIndoModal=!0}}},c={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("Modal",{attrs:{width:"400"},model:{value:t.receiveIndoModal,callback:function(e){t.receiveIndoModal=e},expression:"receiveIndoModal"}},[n("p",{staticStyle:{"text-align":"center","font-size":"20px",color:"cornflowerblue"},attrs:{slot:"header"},slot:"header"},[n("span",[t._v("ReceiveInfo")])]),t._v(" "),t._l(t.receiveInfoList,function(e){return n("Card",{key:e.id,staticStyle:{margin:"0 auto",width:"100%","margin-top":"10px"}},[n("h3",{attrs:{slot:"title"},slot:"title"},[t._v("ReceiveInfo_ID: "+t._s(e.receive_info_id))]),t._v(" "),n("div",{staticStyle:{display:"flex","justify-content":"flex-start"}},[n("div",[n("h4",[t._v("TEL:")])]),t._v(" "),n("div",{staticStyle:{"margin-left":"10px"}},[n("p",[t._v(t._s(e.phone_number))])])]),t._v(" "),n("div",{staticStyle:{display:"flex","justify-content":"flex-start"}},[n("div",[n("h4",[t._v("ADDR:")])]),t._v(" "),n("div",{staticStyle:{"margin-left":"10px"}},[n("p",[t._v(t._s(e.address))])])])])})],2),t._v(" "),n("Modal",{attrs:{width:"400"},model:{value:t.addAccountModal,callback:function(e){t.addAccountModal=e},expression:"addAccountModal"}},[n("p",{staticStyle:{"text-align":"center","font-size":"20px",color:"cornflowerblue"},attrs:{slot:"header"},slot:"header"},[n("span",[t._v("Create Account")])]),t._v(" "),n("Form",{staticStyle:{margin:"auto"},attrs:{model:t.createAccountForm}},[n("FormItem",{attrs:{label:"AccountId"}},[n("Input",{attrs:{"show-word-limit":"",type:"textarea",placeholder:"Enter something...",maxlength:"15",autosize:{minRows:1}},model:{value:t.createAccountForm.account_id,callback:function(e){t.$set(t.createAccountForm,"account_id",e)},expression:"createAccountForm.account_id"}})],1),t._v(" "),n("FormItem",{attrs:{label:"Password"}},[n("Input",{attrs:{"show-word-limit":"",type:"textarea",placeholder:"Enter something...",maxlength:"6",autosize:{minRows:1}},model:{value:t.createAccountForm.password,callback:function(e){t.$set(t.createAccountForm,"password",e)},expression:"createAccountForm.password"}})],1),t._v(" "),n("FormItem",{attrs:{label:"Nickname"}},[n("Input",{attrs:{"show-word-limit":"",type:"textarea",placeholder:"Enter something...",maxlength:"15",autosize:{minRows:1}},model:{value:t.createAccountForm.nickname,callback:function(e){t.$set(t.createAccountForm,"nickname",e)},expression:"createAccountForm.nickname"}})],1),t._v(" "),n("FormItem",{attrs:{label:"Gender"}},[n("RadioGroup",{model:{value:t.createAccountForm.gender,callback:function(e){t.$set(t.createAccountForm,"gender",e)},expression:"createAccountForm.gender"}},[n("Radio",{attrs:{label:1}},[t._v("Male")]),t._v(" "),n("Radio",{attrs:{label:2}},[t._v("Female")]),t._v(" "),n("Radio",{attrs:{label:3}},[t._v("Unknown")])],1)],1),t._v(" "),n("FormItem",{attrs:{label:"Description"}},[n("Input",{attrs:{"show-word-limit":"",type:"textarea",placeholder:"Enter something...",maxlength:"200",autosize:{minRows:2}},model:{value:t.createAccountForm.description,callback:function(e){t.$set(t.createAccountForm,"description",e)},expression:"createAccountForm.description"}})],1)],1),t._v(" "),n("div",{attrs:{slot:"footer"},slot:"footer"},[n("Button",{attrs:{type:"primary",size:"large",long:""},on:{click:function(e){return t.submit()}}},[t._v("Submit")])],1)],1),t._v(" "),n("h1",{staticStyle:{"margin-top":"10px","text-align":"center"}},[t._v("Account")]),t._v(" "),n("Table",{staticStyle:{"margin-top":"20px"},attrs:{height:"500",border:"",columns:t.columns,data:t.accountData},scopedSlots:t._u([{key:"account_id",fn:function(e){var o=e.row,c=e.index;return[t.editIndex===c?n("Input",{attrs:{type:"text","show-word-limit":"",maxlength:"15"},model:{value:t.editAccount_id,callback:function(e){t.editAccount_id=e},expression:"editAccount_id"}}):n("span",[t._v(t._s(o.account_id))])]}},{key:"password",fn:function(e){var o=e.row,c=e.index;return[t.editIndex===c?n("Input",{attrs:{type:"text","show-word-limit":"",maxlength:"6"},model:{value:t.editPassword,callback:function(e){t.editPassword=e},expression:"editPassword"}}):n("span",[t._v(t._s(o.password))])]}},{key:"nickname",fn:function(e){var o=e.row,c=e.index;return[t.editIndex===c?n("Input",{attrs:{type:"text","show-word-limit":"",maxlength:"15"},model:{value:t.editNickname,callback:function(e){t.editNickname=e},expression:"editNickname"}}):n("span",[t._v(t._s(o.nickname))])]}},{key:"gender",fn:function(e){var o=e.row,c=e.index;return[t.editIndex===c?n("Input",{attrs:{type:"text","show-word-limit":"",maxlength:"2"},model:{value:t.editGender,callback:function(e){t.editGender=e},expression:"editGender"}}):n("span",[t._v(t._s(o.gender))])]}},{key:"description",fn:function(e){var o=e.row,c=e.index;return[t.editIndex===c?n("Input",{attrs:{type:"text","show-word-limit":"",maxlength:"200"},model:{value:t.editDescription,callback:function(e){t.editDescription=e},expression:"editDescription"}}):n("span",[t._v(t._s(o.description))])]}},{key:"action",fn:function(e){var o=e.row,c=e.index;return[t.editIndex===c?n("div",[n("Button",{staticStyle:{"margin-right":"5px"},attrs:{type:"success",size:"small"},on:{click:function(e){return t.handleSave(c)}}},[t._v("保存")]),t._v(" "),n("Button",{attrs:{type:"warning",size:"small"},on:{click:function(e){t.editIndex=-1}}},[t._v("取消")])],1):n("div",[n("Button",{staticStyle:{"margin-right":"5px"},attrs:{type:"primary",size:"small"},on:{click:function(e){return t.handleEdit(o,c)}}},[t._v("修改")]),t._v(" "),n("Button",{attrs:{type:"info",size:"small"},on:{click:function(e){return t.receiveInfo(c)}}},[t._v("收货信息")]),t._v(" "),n("Button",{attrs:{type:"error",size:"small"},on:{click:function(e){return t.remove(c)}}},[t._v("移除")])],1)]}}])}),t._v(" "),n("Button",{staticStyle:{"margin-top":"10px",width:"100px"},attrs:{type:"primary"},on:{click:t.createAccount}},[n("Icon",{attrs:{type:"ios-add",size:"20"}}),t._v("\n    Add\n  ")],1),t._v(" "),n("Button",{staticStyle:{"margin-top":"10px","margin-left":"10px",width:"100px"},attrs:{type:"info"},on:{click:t.upLoad}},[n("Icon",{attrs:{type:"ios-cloud",size:"20"}}),t._v("\n    Upload\n  ")],1)],1)},staticRenderFns:[]};var i=n("VU/8")(o,c,!1,function(t){n("qJUz")},null,null);e.default=i.exports}});
//# sourceMappingURL=0.25785289af47c4691f21.js.map