webpackJsonp([1],{ONEL:function(t,o,e){"use strict";Object.defineProperty(o,"__esModule",{value:!0});var n={props:{dataSource:Number},data:function(){return{createCouponModal:!1,createCouponForm:{coupon_id:"",discount:0,inventory:0},couponColumns:[{title:"coupon_id",key:"coupon_id",sortable:!0},{title:"discount",slot:"discount",sortable:!0,filters:[{label:"0 ~ 20",value:1},{label:"20 ~ 50",value:2},{label:"50 ~ 100",value:3}],filterMultiple:!1,filterMethod:function(t,o){return 1===t?o.discount<=20:2===t?o.discount>20&&o.discount<=50:o.discount>50}},{title:"inventory",slot:"inventory",sortable:!0,filters:[{label:"0 ~ 2000",value:1},{label:"2000 ~ 5000",value:2},{label:"5000 ~ 10000",value:3}],filterMultiple:!1,filterMethod:function(t,o){return 1===t?o.inventory<=2e3:2===t?o.discount>2e3&&o.discount<=5e3:o.discount>5e3}},{title:"操作",slot:"action",align:"center"}],couponData:[],editIndex:-1,editCoupon_id:"",editDiscount:0,editInventory:0}},mounted:function(){var t,o=this;t=1==this.dataSource?"/coupon/info":"/g/coupon/info",this.$axios.get(t).then(function(t){o.couponData=t.data,o.$Message.success("成功加载Coupon数据")}).catch(function(t){o.$Message.error("加载Coupon数据失败")})},methods:{upLoad:function(){var t,o=this;t=1==this.dataSource?"coupon/update":"/g/coupon/update",this.$axios.post(t,{list:this.couponData}).then(function(t){o.$Message.success("成功将Coupon数据同步至数据库")}).catch(function(t){o.Message.error("同步Coupon数据失败！")})},submit:function(){var t={coupon_id:this.createCouponForm.coupon_id,discount:this.createCouponForm.discount,inventory:this.createCouponForm.inventory};this.couponData.push(t),this.createCouponModal=!1},createCoupon:function(){this.createCouponModal=!0},remove:function(t){this.couponData.splice(t,1)},handleEdit:function(t,o){this.editCoupon_id=t.coupon_id,this.editDiscount=t.discount,this.editInventory=t.inventory,this.editIndex=o},handleSave:function(t){this.couponData[t].coupon_id=this.editCoupon_id,this.couponData[t].discount=this.editDiscount,this.couponData[t].inventory=this.editInventory,this.editIndex=-1}}},i={render:function(){var t=this,o=t.$createElement,e=t._self._c||o;return e("div",[e("Modal",{attrs:{width:"400"},model:{value:t.createCouponModal,callback:function(o){t.createCouponModal=o},expression:"createCouponModal"}},[e("p",{staticStyle:{"text-align":"center","font-size":"20px",color:"cornflowerblue"},attrs:{slot:"header"},slot:"header"},[e("span",[t._v("Create Coupon")])]),t._v(" "),e("Form",{staticStyle:{margin:"auto"},attrs:{model:t.createCouponForm}},[e("FormItem",[e("Input",{attrs:{"show-word-limit":"",type:"textarea",placeholder:"Enter something...",maxlength:"1",autosize:{minRows:1}},model:{value:t.createCouponForm.coupon_id,callback:function(o){t.$set(t.createCouponForm,"coupon_id",o)},expression:"createCouponForm.coupon_id"}})],1),t._v(" "),e("FormItem",[e("Input",{attrs:{type:"number",placeholder:"Enter something...",autosize:{minRows:1}},model:{value:t.createCouponForm.discount,callback:function(o){t.$set(t.createCouponForm,"discount",o)},expression:"createCouponForm.discount"}})],1),t._v(" "),e("FormItem",[e("Input",{attrs:{type:"number",placeholder:"Enter something...",autosize:{minRows:1}},model:{value:t.createCouponForm.inventory,callback:function(o){t.$set(t.createCouponForm,"inventory",o)},expression:"createCouponForm.inventory"}})],1)],1),t._v(" "),e("div",{attrs:{slot:"footer"},slot:"footer"},[e("Button",{attrs:{type:"primary",size:"large",long:""},on:{click:function(o){return t.submit()}}},[t._v("Submit")])],1)],1),t._v(" "),e("h1",{staticStyle:{"margin-top":"10px","text-align":"center"}},[t._v("Coupon")]),t._v(" "),e("Table",{staticStyle:{"margin-top":"20px"},attrs:{height:"500",border:"",columns:t.couponColumns,data:t.couponData},scopedSlots:t._u([{key:"coupon_id",fn:function(o){var n=o.row,i=o.index;return[t.editIndex===i?e("Input",{attrs:{type:"text"},model:{value:t.editCoupon_id,callback:function(o){t.editCoupon_id=o},expression:"editCoupon_id"}}):e("span",[t._v(t._s(n.coupon_id))])]}},{key:"discount",fn:function(o){var n=o.row,i=o.index;return[t.editIndex===i?e("Input",{attrs:{type:"number"},model:{value:t.editDiscount,callback:function(o){t.editDiscount=o},expression:"editDiscount"}}):e("span",[t._v(t._s(n.discount))])]}},{key:"inventory",fn:function(o){var n=o.row,i=o.index;return[t.editIndex===i?e("Input",{attrs:{type:"number"},model:{value:t.editInventory,callback:function(o){t.editInventory=o},expression:"editInventory"}}):e("span",[t._v(t._s(n.inventory))])]}},{key:"action",fn:function(o){var n=o.row,i=o.index;return[t.editIndex===i?e("div",[e("Button",{staticStyle:{"margin-right":"5px"},attrs:{type:"success",size:"small"},on:{click:function(o){return t.handleSave(i)}}},[t._v("保存")]),t._v(" "),e("Button",{attrs:{type:"warning",size:"small"},on:{click:function(o){t.editIndex=-1}}},[t._v("取消")])],1):e("div",[e("Button",{staticStyle:{"margin-right":"5px"},attrs:{type:"primary",size:"small"},on:{click:function(o){return t.handleEdit(n,i)}}},[t._v("修改")]),t._v(" "),e("Button",{attrs:{type:"error",size:"small"},on:{click:function(o){return t.remove(i)}}},[t._v("移除")])],1)]}}])}),t._v(" "),e("Button",{staticStyle:{"margin-top":"10px",width:"100px"},attrs:{type:"primary"},on:{click:t.createCoupon}},[e("Icon",{attrs:{type:"ios-add",size:"20"}}),t._v("\n    Add\n  ")],1),t._v(" "),e("Button",{staticStyle:{"margin-top":"10px","margin-left":"10px",width:"100px"},attrs:{type:"info"},on:{click:t.upLoad}},[e("Icon",{attrs:{type:"ios-cloud",size:"20"}}),t._v("\n    Upload\n  ")],1)],1)},staticRenderFns:[]};var r=e("VU/8")(n,i,!1,function(t){e("Png3")},null,null);o.default=r.exports},Png3:function(t,o){}});
//# sourceMappingURL=1.6fe68301f4a3ab5304b7.js.map